# 智能家居系统数据结构明细表

本文件详细列出智能家居系统各数据表结构，包含字段名、数据类型、字段说明及举例，便于理解和后续开发。

---

## 1. 用户表（users）

| 字段名      | 数据类型         | 说明         | 示例           |
| ----------- | ---------------- | ------------ | -------------- |
| id          | SERIAL (int)     | 用户ID，主键 | 1              |
| name        | VARCHAR(50)      | 用户名       | 张三           |
| house_area  | FLOAT            | 房屋面积(㎡) | 120.5          |

**说明**：记录家庭用户的基本信息。

---

## 2. 房间表（rooms）

| 字段名      | 数据类型         | 说明         | 示例           |
| ----------- | ---------------- | ------------ | -------------- |
| id          | SERIAL (int)     | 房间ID，主键 | 1              |
| name        | VARCHAR(50)      | 房间名       | 客厅           |

**说明**：记录家庭中的各个房间。

---

## 3. 设备表（devices）

| 字段名      | 数据类型         | 说明         | 示例           |
| ----------- | ---------------- | ------------ | -------------- |
| id          | SERIAL (int)     | 设备ID，主键 | 1              |
| name        | VARCHAR(50)      | 设备名       | 智能灯         |
| type        | VARCHAR(30)      | 设备类型     | 灯光           |
| room_id     | INT (外键)       | 所属房间ID   | 1              |

**说明**：记录所有智能家居设备及其归属房间。

---

## 4. 设备使用记录表（device_usages）

| 字段名         | 数据类型         | 说明                   | 示例                 |
| -------------- | ---------------- | ---------------------- | -------------------- |
| id             | SERIAL (int)     | 记录ID，主键           | 1                    |
| user_id        | INT (外键)       | 用户ID                 | 1                    |
| device_id      | INT (外键)       | 设备ID                 | 1                    |
| start_time     | TIMESTAMP        | 使用开始时间           | 2024-06-01 08:00:00  |
| end_time       | TIMESTAMP        | 使用结束时间           | 2024-06-01 09:00:00  |
| usage_type     | VARCHAR(30)      | 使用方式（如娱乐/安防）  | 娱乐                 |
| energy_consumed| FLOAT            | 能耗（kWh）            | 0.5                  |
| device_type    | VARCHAR(30)      | 设备类型（冗余）       | 灯光                 |
| user_name      | VARCHAR(50)      | 用户名（冗余）         | 张三                 |

**说明**：记录每次设备的使用详情，含能耗、方式等。

---

## 5. 安防事件表（security_events）

| 字段名      | 数据类型         | 说明         | 示例               |
| ----------- | ---------------- | ------------ | ------------------ |
| id          | SERIAL (int)     | 事件ID，主键 | 1                  |
| user_id     | INT (外键)       | 用户ID       | 1                  |
| device_id   | INT (外键)       | 设备ID       | 2                  |
| event_type  | VARCHAR(30)      | 事件类型     | 入侵报警           |
| event_level | VARCHAR(10)      | 事件等级     | 高                 |
| location    | VARCHAR(50)      | 发生位置     | 客厅               |
| status      | VARCHAR(20)      | 处理状态     | 已处理             |
| timestamp   | TIMESTAMP        | 事件时间     | 2024-06-01 10:30:00|

**说明**：记录所有安防相关事件及处理情况。

---

## 6. 用户反馈表（feedbacks）

| 字段名        | 数据类型         | 说明         | 示例               |
| ------------- | ---------------- | ------------ | ------------------ |
| id            | SERIAL (int)     | 反馈ID，主键 | 1                  |
| user_id       | INT (外键)       | 用户ID       | 1                  |
| content       | TEXT             | 反馈内容     | 灯光偶尔失灵       |
| feedback_type | VARCHAR(20)      | 反馈类型     | 故障               |
| status        | VARCHAR(20)      | 处理状态     | 已处理             |
| device_id     | INT (外键)       | 关联设备ID   | 1                  |
| timestamp     | TIMESTAMP        | 反馈时间     | 2024-06-01 11:00:00|

**说明**：记录用户对设备或系统的反馈信息。

---

> 注：所有ID字段为自增主键，外键需与对应表关联。时间字段均为标准时间戳格式。 
